<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="ETS.refferal.mapper.RefferalMapper">
	
	<!-- 레퍼럴 리스트 -->
	<select id="getManageList" resultType="cMap" parameterType="dMap">
		SELECT idx
			 , c_code
			 , c_name
		  FROM refferal
		 WHERE 1=1
		 ORDER BY idx DESC
	 	<if test="@org.apache.commons.lang.StringUtils@isNotEmpty(scopeRow)">
	 		LIMIT ${scopeRow}, ${rowCount}
	 	</if>
	</select>
	
	<!-- 레퍼럴 카운트 -->
	<select id="getManageListCount" resultType="int" parameterType="cMap">
		SELECT COUNT(*) AS cnt
		  FROM refferal
		 WHERE 1=1
		 ORDER BY idx DESC
	</select>
	
	<!-- 레퍼럴 등록 -->
	<insert id="insertManage" parameterType="dMap">
		INSERT INTO refferal
		  	 (c_name, c_code)
		VALUES
			 (#{refferalName}, #{refferalCode})
	</insert>
	

</mapper>